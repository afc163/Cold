(function(){var c=function(h,i){var e=h.callback;h.callback=h.onerror=function(){h.callback=h.onerror=null;e&&e();i&&i()}};var g=function(e){if(!/^\s*Cold/.test(e)){return"Cold."+e}return e};var d=function(i){var h=i,e=Cold.DEBUG?"/src":"/bulid";if(!(/component|util|task|other/g.test(i))){h=i.replace(/cold/i,"cold.core")}h=h.replace(/\./g,"/");return Cold.BaseURL+h.replace(/cold/i,"cold"+e)+".js"};var b=function(k,n){var j,e,m=Cold.reqList;k=g(k);m[k]=m[k]||[];for(j=0,e=n.length;j<e;j++){n[j]=g(n[j]);a(m[k],n[j])&&n.splice(j,1)}var h=a(n,k);h&&n.splice(h-1,1);for(j=0,e=n.length;j<e;j++){m[n[j]]=m[n[j]]||[];m[n[j]].push(k);m[n[j]]=m[n[j]].concat(m[k])}};var a=function(k,j){if(k){for(var h=0,e=k.length;h<e;h++){if(k[h]===j){return h+1}}}return false};window.Cold={VERSION:"0.0.1",DEBUG:false,BaseURL:(function(){var e=document.getElementsByTagName("script"),i=e[e.length-1].getAttribute("src"),h=/http:\/\/[^\/]*\//;return(i.match(h)||window.location.href.match(h))[0]})(),cache:{},scripts:{loadingN:0,nodes:{}},reqList:{},extend:function(j,e,h){j=j||{};e=e||{};h=h||false;for(var i in e){if(h){j[i]=e[i]}else{if(!j[i]){j[i]=e[i]}else{return false}}}},add:function(l,p,n){var q=g(l),o=q.split("."),e=o.length,h=window,m=Cold.scripts,k=m.nodes[d(q)];var j=(function(r){return function(){var t=typeof r==="function"&&r();if(t!=null){if(!(o[0] in window)){window[o[0]]={}}for(var s=0,u;s<e;s++){u=o[s];if(s===e-1){if(h[u]){Cold.extend(h[u],t)}else{h[u]=t}break}(!h[u])&&(h[u]={});h=h[u]}}k&&k.callback&&k.callback();m[q]="attached"}})(typeof p==="function"?p:n);if(m[q]){m[q]="loaded"}if(typeof p!=="function"&&p.length>0){b(q,p)}if(typeof p!=="function"&&p.length>0){var i=p.length;return Cold.load(p,function(){--i===0&&j()})}j();return Cold},task:function(h,i){if(typeof h==="function"){h()}else{if(h.length>0){var e=h.length;return Cold.load(h,function(){--e===0&&i&&i()})}else{i&&i()}}return Cold},addScript:function(e,k){var j=document.createElement("script"),h=document.getElementsByTagName("head")[0],i=Cold.scripts;j.setAttribute("type","text/javascript");j.setAttribute("src",e);j.setAttribute("async",true);h.appendChild(j);c(j,function(){k&&k.call();h.removeChild(j)});i.nodes[e]=j;return Cold},loadSingle:function(j,l){var i=g(j),h=Cold.scripts,e=d(i),k=h.nodes[e];if(h[i]==="attached"){typeof l==="function"&&l.call()}else{if(h[i]==="loading"||h[i]==="loaded"){k&&c(k,function(){l&&l.call()})}else{h[i]="loading";h.loadingN?(h.loadingN+=1):(h.loadingN=1);Cold.addScript(e,function(){typeof l==="function"&&l();h[i]="attached";h.loadingN-=1},true)}}return Cold},load:function(j,k){j=j||[];if(typeof j==="string"){return Cold.loadSingle(j,k)}else{for(var h=0,e=j.length;h<e;h++){j[h]&&Cold.loadSingle(j[h],function(){typeof k==="function"&&k.call()})}}return Cold}};Cold.log=(Cold.DEBUG&&window.console)?function(e){console.log(e)}:function(){};try{document.domain=window.location.href.match(/http:\/\/(www\.)?([^\/]*)\//)[2];document.execCommand("BackgroundImageCache",false,true)}catch(f){}})();Cold.add("Cold",function(){var d=[],b=null,e=false;var i=function(){return(Cold.scripts.loadingN===0)};var h=function(){if(e===true){return}e=true;for(var k=0,j=d.length;k<j;k++){d[k](Cold)}d=[]};var a=function(){if(e===true){return}if(i()===false){b=setTimeout(arguments.callee,5);return}b&&clearTimeout(b);h.call();Cold.scripts.nodes={}};var c=(function(){if(c){return}var j=document.documentElement.doScroll;if(document.addEventListener){document.addEventListener("DOMContentLoaded",a,false);window.addEventListener("load",a,false)}else{document.attachEvent("onreadystatechange",a);window.attachEvent("onload",a);if(j&&window==window.top){(function(){try{j("left")}catch(k){setTimeout(arguments.callee,0)}})()}}return true})();var g=function(j){if(typeof j!=="function"){return}if(e===true||(/loaded|complete/).test(document.readyState.toLowerCase())){j(Cold)}else{d.push(j)}};var f={};(function(){var m=Object.prototype.toString;var n=["Array","Function","String","Number"];for(var k=0,j=n.length;k<j;k++){(function(l){f["is"+n[l]]=function(o){return m.call(o)==="[object "+n[l]+"]"}})(k)}})();return{type:f,isArray:f.isArray,isFunction:f.isFunction,isString:f.isString,isNumber:f.isNumber,ready:g}});