Cold.add("dom",["browser"],function(){var x=Cold.cache["elems"]={};var v=function(h){if(x[h]){return x[h]}if(Cold.isString(h)){return(x[h]=document.getElementById(h))}return h};var n=function(L,K){var J=/^[\s]*<([a-zA-Z]*)[\s]*([^>]*)>(.*)<\/\1>[\s]*/i,h,I;if(L.match(J)){h=document.createElement("div");h.innerHTML=L;I=h.firstChild;if(h.childNodes.length===1){return I}else{var M=document.createDocumentFragment();while(I=h.firstChild){M.appendChild(I)}return M}}else{I=document.createElement(L);if(K){for(var w in K){I[w]=K[w]}}return I}};var d=function(N,L,h){L=L||document;if(L.getElementsByClassName){return L.getElementsByClassName(N)}else{h=h||"*";var I=[];var K=(h==="*"&&L.all)?L.all:L.getElementsByTagName(h);var J=-1,w=K.length;N=N.replace(/\-/g,"\\-");var M=new RegExp("(^|\\s)"+N+"(\\s|$)");while(++J<w){if(M.test(K[J].className)){I.push(K[J])}}return I}};var l=function(h){return typeof Cold.isString(h)?document.getElementsByTagName(h):h};var e=function(h){return String(h).replace(/\-(\w)/g,function(I,w){return w.toUpperCase()})};var s=function(h){return String(h).replace(/[A-Z]/g,"-$&").toLowerCase()};var j=function(K,J){var L=K.className,I=L.split(" ");for(var w=0,h=I.length;w<h;w++){if(I[w]===J){return true}}return false};var p=function(w,h){if(!j(w,h)){w.className=(w.className==null)?h:w.className+" "+h}};var t=function(K,J){var L=K.className,I=L.split(" ");for(var w=0,h=I.length;w<h;w++){if(I[w]===J){I[w]=""}}K.className=I.join(" ")};var i=function(J,I){var w;J=v(J);if(I!=null){var h=(I!==0&&I!=="");if(h&&m(J,"display")==="none"){m(J,"display","block")}if(h&&m(J,"visibility")==="hidden"){m(J,"visibility","visible")}J.style.opacity=I;if(Cold.browser.ie&&Cold.browser.version<=8){J.style.filter=(I==="")?"":"alpha(opacity="+I*100+")";J.style.zoom=1;if(I===1){J.style.filter=""}}}else{if(J.style.filter){w=J.style.filter.match(/alpha\(opacity=(.*)\)/);w=(!!w)?parseInt(w[1],10)/100:1;return w}return J.style.opacity||1}};var q=function(I,w){I=v(I);var h="",J=I.ownerDocument.defaultView;if(J&&J.getComputedStyle){h=J.getComputedStyle(I,null)[e(w)]}else{if(I.currentStyle){h=I.currentStyle[e(w)]}else{h=I.style[w]}}if(w==="opacity"){if(h){return parseFloat(h,10)}else{return i(I)}}return(!h||h==="auto")?0:h};var D=function(h,w){return e(w) in h.style||w in h.style||w==="opacity"};var b=function(I,w,J){I=v(I);if(Cold.isString(w)){if(J!=null){w.toLowerCase()==="opacity"?i(I,J):(I.style[e(w)]=J)}else{return q(I,w)}return I}else{w=w||{};var K="";for(var h in w){if(!w[h]&&h.toLowerCase()!=="opacity"){I.style[e(h)]="";continue}h.toLowerCase()==="opacity"?i(I,w[h]):(K+=s(h)+":"+w[h]+";")}I.style.cssText+=(I.style.cssText===""?"":";")+K;return I}};var m=function(J,I,K){if(Cold.isNumber(J.length)){for(var w=0,h=J.length;w<h;w++){b(J[w],I,K)}}else{return b(J,I,K)}};var H=function(h,J,w){h=v(h);if(Cold.isString(J)){if(w!=null){h.setAttribute(J,w)}else{return h.getAttribute(J)}}else{J=J||{};for(var I in J){h.setAttribute(I,J[I])}}return h};var o=function(h,w){h=v(h);if(!!w){h.innerHTML=w}else{return h.innerHTML}return h};var a=function(J,I,w){J=v(J);w=w?w.toLowerCase():"beforeend";if(J.insertAdjacentHTML){switch(w){case"beforebegin":J.insertAdjacentHTML("BeforeBegin",I);return J.previousSibling;case"beforeend":J.insertAdjacentHTML("BeforeEnd",I);return J.lastChild;case"afterbegin":J.insertAdjacentHTML("AfterBegin",I);return J.firstChild;case"afterend":J.insertAdjacentHTML("AfterEnd",I);return J.nextSibling}throw'Illegal insertion position : "'+w+'"'}else{var h=J.ownerDocument.createRange(),K;switch(w){case"beforebegin":h.setStartBefore(J);K=h.createContextualFragment(I);J.parentNode.insertBefore(K,J);return J.previousSibling;case"afterbegin":if(J.firstChild){h.setStartBefore(J.firstChild);K=h.createContextualFragment(I);J.insertBefore(K,J.firstChild);return J.firstChild}else{J.innerHTML=I;return J.firstChild}break;case"beforeend":if(J.lastChild){h.setStartAfter(J.lastChild);K=h.createContextualFragment(I);J.appendChild(K);return J.lastChild}else{J.innerHTML=I;return J.lastChild}break;case"afterend":h.setStartAfter(J);K=h.createContextualFragment(I);J.parentNode.insertBefore(K,J.nextSibling);return J.nextSibling}throw'Illegal insertion position : "'+w+'"'}};var c=function(w,I,h){w=v(w);h=h?h.toLowerCase():"beforeend";if(Cold.isString(I)){a(w,I,h)}else{switch(h){case"beforebegin":w.parentNode.insertBefore(I,w);break;case"afterbegin":w.insertBefore(I,w.firstChild);break;case"beforeend":w.appendChild(I);break;case"afterend":w.parentNode.insertBefore(I,w.nextSibling||null);break;default:throw'Illegal insertion position : "'+h+'"'}return I}};var g=function(w,h){return c(w,h,"beforebegin")};var r=function(w,h){return c(w,h,"afterbegin")};var G=function(w,h){return c(w,h,"beforeend")};var A=function(w,h){return c(w,h,"afterend")};var C=function(h){return G(document.body,h)};var F=function(h){if(h){return h.parentNode.removeChild(h)}};var f=Cold.IE&&m(el,"display")==="none",k,z;var y=function(h){h=v(h);k=Math.max(h.offsetWidth,f?0:h.clientWidth)||0;return k<0?0:k};var u=function(h){h=v(h);z=Math.max(h.offsetHeight,f?0:h.clientHeight)||0;return z<0?0:z};var E=Cold.browser.scroll;var B=function(J){var w=0,N=0,K=J.ownerDocument,h=K.documentElement,I=E(K),M=h.clientTop||K.body.clientTop||0,L=h.clientLeft||K.body.clientLeft||0;if(J.getBoundingClientRect){w=J.getBoundingClientRect().left+I.left-L;N=J.getBoundingClientRect().top+I.top-M}else{do{w+=J.offsetLeft;w+=J.offsetTop}while(J=J.offsetParent)}return{x:w,y:N}};return{id:v,$E:v,$C:n,create:n,$CN:d,$T:l,isStyle:D,addClass:p,removeClass:t,css:m,opacity:i,val:H,html:o,insert:c,insertBefore:g,insertAfter:A,appendFront:r,appendEnd:G,appendBody:C,remove:F,width:y,height:u,getXY:B}});